<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quadratic Equation Solver</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/plotly.js/2.16.1/plotly.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: lightblue;
        }
        h1 {
            color: #333;
            text-align: center;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: inline-block;
            width: 150px;
        }
        input {
            padding: 5px;
            width: 100px;
        }
        button {
            background-color: #4CAF50;
            border: none;
            color: white;
            padding: 10px 20px;
            text-align: center;
            cursor: pointer;
            border-radius: 4px;
            font-size: 16px;
        }
        button:hover {
            background-color: #45a049;
        }
        #equation-display {
            font-size: 1.2em;
            margin: 20px 0;
            text-align: center;
        }
        #results {
            margin-top: 20px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background-color: #f9f9f9;
            display: none;
        }
        #plot {
            width: 100%;
            height: 400px;
            background-color: white;
        }
    </style>
</head>
<body>
    <h1>Quadratic Equation Solver</h1>
    <p>Enter the coefficients for the quadratic equation y = ax² + bx + c</p>

    <div class="form-group">
        <label for="coefficient-a">Coefficient a:</label>
        <input type="number" id="coefficient-a" step="0.1" value="1">
    </div>

    <div class="form-group">
        <label for="coefficient-b">Coefficient b:</label>
        <input type="number" id="coefficient-b" step="0.1" value="0">
    </div>

    <div class="form-group">
        <label for="coefficient-c">Coefficient c:</label>
        <input type="number" id="coefficient-c" step="0.1" value="0">
    </div>

    <button onclick="calculateQuadratic()">Calculate</button>

    <div id="equation-display">y = x²</div>

    <div id="plot"></div>

    <div id="results">
        <h3>Results:</h3>
        <p id="root-status"></p>
        <p id="roots"></p>
        <p id="discriminant"></p>
    </div>

    <script>
        // Update equation display when inputs change
        document.getElementById('coefficient-a').addEventListener('input', updateEquation);
        document.getElementById('coefficient-b').addEventListener('input', updateEquation);
        document.getElementById('coefficient-c').addEventListener('input', updateEquation);

        // Initial equation display
        updateEquation();

        function updateEquation() {
            const a = parseFloat(document.getElementById('coefficient-a').value) || 0;
            const b = parseFloat(document.getElementById('coefficient-b').value) || 0;
            const c = parseFloat(document.getElementById('coefficient-c').value) || 0;

            let equation = "y = ";

            if (a === 0 && b === 0 && c === 0) {
                equation += "0";
            } else {
                if (a !== 0) {
                    equation += a === 1 ? "x²" : a === -1 ? "-x²" : a + "x²";
                }

                if (b !== 0) {
                    if (b > 0 && a !== 0) {
                        equation += " + ";
                    } else if (b < 0) {
                        equation += " - ";
                    }
                    equation += Math.abs(b) === 1 ? "x" : Math.abs(b) + "x";
                }

                if (c !== 0) {
                    if (c > 0 && (a !== 0 || b !== 0)) {
                        equation += " + ";
                    } else if (c < 0) {
                        equation += " - ";
                    }
                    equation += Math.abs(c);
                }
            }

            document.getElementById('equation-display').textContent = equation;
        }

        function calculateQuadratic() {
            const a = parseFloat(document.getElementById('coefficient-a').value) || 0;
            const b = parseFloat(document.getElementById('coefficient-b').value) || 0;
            const c = parseFloat(document.getElementById('coefficient-c').value) || 0;

            // Check if it's a valid quadratic equation
            if (a === 0) {
                alert("Coefficient 'a' cannot be zero for a quadratic equation!");
                return;
            }

            // Calculate discriminant
            const discriminant = b * b - 4 * a * c;

            // Calculate roots
            let roots = [];
            let rootStatus = "";

            if (discriminant > 0) {
                const x1 = (-b + Math.sqrt(discriminant)) / (2 * a);
                const x2 = (-b - Math.sqrt(discriminant)) / (2 * a);
                roots = [x1, x2];
                rootStatus = "Two real roots";
            } else if (discriminant === 0) {
                const x = -b / (2 * a);
                roots = [x];
                rootStatus = "One real root (double root)";
            } else {
                const realPart = -b / (2 * a);
                const imagPart = Math.sqrt(Math.abs(discriminant)) / (2 * a);
                roots = [`${realPart.toFixed(1)} + ${imagPart.toFixed(1)}i`, `${realPart.toFixed(1)} - ${imagPart.toFixed(1)}i`];
                rootStatus = "Two complex roots";
            }

            // Generate points for the curve
            let xMin, xMax;
            if (discriminant >= 0) {
                if (roots.length === 2) {
                    xMin = Math.min(...roots) - 3;
                    xMax = Math.max(...roots) + 3;
                } else {
                    xMin = roots[0] - 3;
                    xMax = roots[0] + 3;
                }
            } else {
                const realPart = -b / (2 * a);
                xMin = realPart - 3;
                xMax = realPart + 3;
            }

            // Generate 100 points for smooth curve
            const xValues = [];
            const yValues = [];
            const numPoints = 100;
            const step = (xMax - xMin) / (numPoints - 1);

            for (let i = 0; i < numPoints; i++) {
                const x = xMin + i * step;
                const y = a * x * x + b * x + c;
                xValues.push(x);
                yValues.push(y);
            }

            // Display roots and discriminant
            document.getElementById('root-status').textContent = rootStatus;

            if (discriminant >= 0) {
                const rootsText = roots.length > 1
                    ? `x₁ = ${roots[0].toFixed(1)}, x₂ = ${roots[1].toFixed(1)}`
                    : `x = ${roots[0].toFixed(1)}`;
                document.getElementById('roots').textContent = `Roots: ${rootsText}`;
            } else {
                document.getElementById('roots').textContent = `Roots: ${roots[0]}, ${roots[1]}`;
            }

            document.getElementById('discriminant').textContent = `Discriminant: ${discriminant.toFixed(1)}`;
            document.getElementById('results').style.display = 'block';

            // Plot the curve
            const trace = {
                x: xValues,
                y: yValues,
                type: 'scatter',
                mode: 'lines',
                name: 'y = ax² + bx + c',
                line: {
                    color: 'rgb(55, 128, 191)',
                    width: 3
                }
            };

            // Add points for roots if they are real
            const traces = [trace];

            if (discriminant >= 0) {
                const rootPoints = {
                    x: roots.map(root => parseFloat(root)),
                    y: roots.map(_ => 0),
                    type: 'scatter',
                    mode: 'markers',
                    name: 'Roots',
                    marker: {
                        color: 'red',
                        size: 10
                    }
                };
                traces.push(rootPoints);
            }

            const layout = {
                title: 'Quadratic Function',
                xaxis: {
                    title: 'x'
                },
                yaxis: {
                    title: 'y'
                },
                hovermode: 'closest',
                paper_bgcolor: 'rgba(0,0,0,0)',
                plot_bgcolor: 'white'
            };

            Plotly.newPlot('plot', traces, layout);
        }
    </script>
</body>
</html>
